# CONSTRUCT Documentation Structure Explained

## Overview
Documentation and metadata are organized across multiple locations:

```
CONSTRUCT/
├── CONSTRUCT-CORE/
│   ├── VERSION                    # Semantic version tracking
│   ├── PROMOTION-LOG.md           # Audit trail of promotions
│   ├── docs/                      # Core philosophy & guides
│   └── CONSTRUCT/scripts/         # Including check-symlinks.sh
├── CONSTRUCT-LAB/
│   ├── docs/                      # LAB-specific documentation
│   └── AI/docs/                   # AI development documentation
│       └── automated/             # Auto-generated by scripts
└── TEMPLATES/.../AI/docs/         # Template documentation
```

## CONSTRUCT-CORE Root Files

### VERSION
**Purpose**: Semantic version tracking for CONSTRUCT-CORE
**Location**: `CONSTRUCT-CORE/VERSION`
**Updates**: Automatically bumped during promotion from LAB
**Example**: `1.0.1`

### PROMOTION-LOG.md
**Purpose**: Audit trail of all LAB → CORE promotions
**Location**: `CONSTRUCT-CORE/PROMOTION-LOG.md`
**Updates**: Automatically appended by promote-to-core.sh
**Contents**: Timestamp, version, promoted items

## 1. CONSTRUCT-CORE/docs/
**Purpose**: Stable, philosophical, and architectural documentation
**Contents**:
- `distributed-quality-philosophy.md` - Core philosophy
- `promotion-system-guide.md` - How promotion works
- `symlink-promotion-rules.md` - Symlink rules
- `distributed-quality-examples.md` - Real-world examples

**Automation**: None - these are manually written and promoted from LAB

## 2. CONSTRUCT-LAB/docs/
**Purpose**: LAB-specific guides and workflows
**Contents**:
- `promotion-quick-reference.md` - Quick guide for promotion
- `ai-commit-pattern.md` - Pattern for AI to show commits
- `DOCUMENTATION-STRUCTURE.md` - This file!

**Automation**: None - these are LAB workflow docs

## 3. CONSTRUCT-LAB/AI/docs/automated/
**Purpose**: Auto-generated documentation about the current state
**Contents**:
- `architecture-overview-automated.md` - Current architecture
- `script-reference-automated.md` - Available scripts
- `api-reference-automated.md` - Library functions
- `development-patterns-automated.md` - Coding patterns
- `improving-CONSTRUCT-guide-automated.md` - Development guide

**Automation**: Generated by `update-architecture.sh` during:
- Pre-commit hooks
- Manual runs of the script

## How Automation Works

### The Flow:
1. **You make changes** to scripts, libraries, or structure
2. **You commit** → pre-commit hooks run
3. **Hooks execute** `update-architecture.sh`
4. **Script scans** the codebase and regenerates:
   - Script inventories
   - Function documentation
   - Architecture summaries
   - Pattern guides
5. **Files updated** in `AI/docs/automated/`
6. **Git adds** these updated files to your commit

### Why This Matters:
- Documentation always reflects current reality
- No manual updates needed for technical docs
- AI context (CLAUDE.md) pulls from these files
- Developers see accurate system state

## The Philosophy/Reality Split

### Manual Documentation (Philosophy):
- **Location**: `CONSTRUCT-CORE/docs/` or `CONSTRUCT-LAB/docs/`
- **Content**: Why decisions were made, patterns to follow
- **Updates**: When discoveries are made or patterns change
- **Example**: "Here's why we use symlinks"

### Automated Documentation (Reality):
- **Location**: `CONSTRUCT-LAB/AI/docs/automated/`
- **Content**: What actually exists in the codebase
- **Updates**: Every commit via hooks
- **Example**: "Here are the 12 scripts currently available"

## Integration with CLAUDE.md

The `update-context.sh` script pulls from automated docs to update CLAUDE.md:
- Reads current script counts
- Pulls in architecture status
- Links to latest documentation
- Updates working location

This creates the "living documentation" where:
- Automated sections show what IS
- Manual sections explain WHY and HOW

## Symlinks and Cross-References

### Expected Symlinks (LAB → CORE)
As defined in `check-symlinks.sh`:
```bash
CONSTRUCT-LAB/CONSTRUCT → ../CONSTRUCT-CORE/CONSTRUCT
CONSTRUCT-LAB/AI/dev-logs/dev-udpates/_devupdate-prompt.md → CORE version
CONSTRUCT-LAB/AI/dev-logs/check-quality/README.md → CORE version
```

### Creating Symlinks
```bash
# From CONSTRUCT-LAB directory:
ln -s ../CONSTRUCT-CORE/CONSTRUCT CONSTRUCT

# For nested files:
cd AI/dev-logs/dev-updates/
ln -s ../../../../CONSTRUCT-CORE/AI/dev-logs/dev-updates/_devupdate-prompt.md _devupdate-prompt.md
```

### Symlink Integrity
- **Script**: `CONSTRUCT-CORE/CONSTRUCT/scripts/check-symlinks.sh`
- **Purpose**: Verifies symlinks haven't been replaced with regular files
- **Usage**: Run manually to check symlink health
- **Documentation**: See `CONSTRUCT-CORE/docs/symlink-promotion-rules.md`

## Summary

- **CONSTRUCT-CORE root**: VERSION, PROMOTION-LOG.md (governance)
- **CONSTRUCT-CORE/docs/**: Stable philosophy & guides (manual)
- **CONSTRUCT-LAB/docs/**: LAB workflows & patterns (manual)
- **CONSTRUCT-LAB/AI/docs/automated/**: Current state (auto-generated)
- **Pre-commit hooks**: Keep automated docs current
- **Symlinks**: Connect LAB to CORE for shared files
- **CLAUDE.md**: Combines both for complete context